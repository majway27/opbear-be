AWSTemplateFormatVersion: '2010-09-09'
Resources:
  ListsTable:
    Properties:
      AttributeDefinitions:
      - AttributeName: uid
        AttributeType: S
      - AttributeName: listid
        AttributeType: N
      KeySchema:
      - AttributeName: uid
        KeyType: HASH
      - AttributeName: listid
        KeyType: RANGE
      ProvisionedThroughput:
        ReadCapacityUnits: '1'
        WriteCapacityUnits: '1'
      TableName: test.ob.lists
    Type: AWS::DynamoDB::Table
  OBLists:
    Properties:
      CodeUri: s3://opbearbe-deploy/529ca0822c0da8cce8b2e012e19064b9
      Environment:
        Variables:
          TABLE_NAME:
            Ref: ListsTable
      Events:
        CreateList:
          Properties:
            Method: post
            Path: /
          Type: Api
        GetLists:
          Properties:
            Method: get
            Path: /
          Type: Api
      Handler: lambda_function.lambda_handler
      Policies: AmazonDynamoDBFullAccess
      Runtime: python3.6
      Timeout: 20
    Type: AWS::Serverless::Function
Transform: AWS::Serverless-2016-10-31
